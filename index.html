<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ScrollMotion â€” Video â†’ Scroll</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>
<body>

<!-- Upload -->
<div class="upload" id="U">
  <div class="logo">
    <div class="logo-mark">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><polygon points="8,5 19,12 8,19"/></svg>
    </div>
    <h1>ScrollMotion</h1>
    <p>Turn any video into scroll-driven playback</p>
  </div>

  <!-- Mode Selector -->
  <div class="upload-tabs">
    <button class="upl-tab on" data-mode="video">Video</button>
    <button class="upl-tab" data-mode="images">Image Sequence</button>
  </div>

  <div class="drop" id="drop">
    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
    <div class="dl" id="dropLabel">Drop a video or click to browse</div>
    <div class="dh" id="dropHint">MP4 Â· MOV Â· WebM</div>
  </div>
  <input type="file" id="fi" accept="video/*" style="display:none">
  <input type="file" id="fiImg" accept="image/*" multiple style="display:none">
  <input type="file" id="fiZip" accept=".zip,application/zip" style="display:none">
</div>

<!-- Workspace -->
<div class="ws" id="W">
  <div class="top">
    <div class="top-l">
      <div class="top-logo"><svg viewBox="0 0 24 24" fill="currentColor"><polygon points="8,5 19,12 8,19"/></svg></div>
      <span class="top-name">ScrollMotion</span>
      <span class="top-tier" id="tierBadge">Free</span>
      <span class="top-file" id="fname"></span>
    </div>
    <button class="btn-sm" id="bnew">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg>
      New
    </button>
  </div>

  <div class="main">
    <!-- Preview -->
    <div class="pv">
      <div class="ov" id="ovLoad"><div class="ov-spin"></div><div class="ov-t" id="ovLoadT">Loading videoâ€¦</div></div>
      <div class="ov" id="ovExport">
        <div class="ov-spin"></div>
        <div class="ov-t" id="ovExT">Extracting framesâ€¦</div>
        <div class="ov-bar"><div class="ov-bar-f" id="ovExBar"></div></div>
        <div class="ov-s" id="ovExPct">0%</div>
      </div>
      <div class="pv-badge" id="badge">0 / 80</div>
      <div class="pv-prog" id="prog"></div>
      <div class="pv-hint" id="hint">â†“ scroll to play</div>
      <div class="pv-scroll" id="pvScroll">
        <div id="runway" style="position:relative">
          <div class="pv-sticky"><video id="vid" muted playsinline preload="auto"></video></div>
        </div>
      </div>
      <div class="scrub" id="scrub"><div class="scrub-f" id="scrubF"></div><div class="scrub-t" id="scrubT"></div></div>
    </div>

    <!-- Sidebar -->
    <div class="sb">
      <div class="sb-tabs">
        <button class="sb-tab on" data-t="set">Settings</button>
        <button class="sb-tab" data-t="exp">Export</button>
      </div>
      <div class="sb-body">
        <!-- Settings -->
        <div class="sb-pn on" id="pnSet">
          <dl class="meta" id="metaG">
            <div><dt>Duration</dt><dd id="mDur">â€”</dd></div>
            <div><dt>Resolution</dt><dd id="mRes">â€”</dd></div>
            <div><dt>Frames</dt><dd id="mFr">80</dd></div>
            <div><dt>Scroll</dt><dd id="mSc">3.2k px</dd></div>
          </dl>
          <div class="sg">
            <div class="sg-h"><span class="sg-l">Frames</span><span class="sg-v" id="vFr">80</span></div>
            <input type="range" id="rFr" min="20" max="300" step="5" value="80">
            <div class="sg-hint">More frames = smoother but heavier. 60â€“120 is ideal.</div>
          </div>
          <div class="sg">
            <div class="sg-h"><span class="sg-l">Scroll speed</span><span class="sg-v" id="vSp">40<small>px</small></span></div>
            <input type="range" id="rSp" min="15" max="100" step="5" value="40">
            <div class="sg-hint">Pixels per frame. Lower = slower and more cinematic.</div>
          </div>
          <div class="sg">
            <div class="sg-h"><span class="sg-l">Export Resolution</span></div>
            <select id="selResolution" class="sel-format">
              <option value="original">Original</option>
              <option value="720p">720p (1280Ã—720)</option>
              <option value="1080p">1080p (1920Ã—1080)</option>
              <option value="2k">2K (2560Ã—1440)</option>
              <option value="4k">4K (3840Ã—2160)</option>
            </select>
            <div class="sg-hint">Lower resolutions = much smaller file sizes.</div>
          </div>
          <div class="sg">
            <div class="sg-h"><span class="sg-l">Aspect Ratio</span></div>
            <select id="selAspect" class="sel-format">
              <option value="original">Original</option>
              <option value="16:9">16:9 (Widescreen)</option>
              <option value="4:3">4:3 (Standard)</option>
              <option value="1:1">1:1 (Square)</option>
              <option value="9:16">9:16 (Vertical)</option>
            </select>
            <div class="sg-hint">Crops/fits video to target aspect ratio.</div>
          </div>
          <div class="sg">
            <div class="sg-h"><span class="sg-l">Quality</span><span class="sg-v" id="vQual">80<small>%</small></span></div>
            <input type="range" id="rQual" min="50" max="100" step="5" value="80">
            <div class="sg-hint">Lower = smaller files but reduced quality.</div>
          </div>
          <div class="sg">
            <div class="sg-h"><span class="sg-l">Format</span></div>
            <select id="selFormat" class="sel-format">
              <option value="jpeg">JPEG</option>
              <option value="webp">WebP (25% smaller)</option>
            </select>
            <div class="sg-hint">WebP: 25-35% smaller with same quality.</div>
          </div>
          <div class="note">ðŸ’¡ The preview scrubs the video natively. Frames are only extracted when you export.</div>
        </div>
        <!-- Export -->
        <div class="sb-pn" id="pnExp">
          <div id="exSum"></div>
          <div class="ex-desc">Self-contained HTML with frames as base64. Zero dependencies â€” deploy anywhere.</div>
          <button class="btn-p" id="bDl" disabled>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
            Download HTML
          </button>
          <button class="btn-o" id="bCp" disabled>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>
            Copy Code
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Upgrade Modal -->
<div class="modal" id="upgradeModal">
  <div class="modal-bg"></div>
  <div class="modal-box">
    <button class="modal-close" id="modalClose">Ã—</button>
    <div class="modal-icon">ðŸš€</div>
    <h2 class="modal-title">Upgrade to Pro</h2>
    <p class="modal-desc" id="modalDesc">You've reached the free tier limit.</p>
    <div class="modal-tier">
      <div class="modal-tier-name">Pro Plan</div>
      <div class="modal-tier-price">$15<small>/month</small></div>
      <ul class="modal-features">
        <li>Unlimited exports</li>
        <li>Up to 300 frames</li>
        <li>4K resolution support</li>
        <li>WebP format support</li>
        <li>No watermark</li>
        <li>500MB file size limit</li>
      </ul>
      <button class="btn-p" id="btnUpgrade">Upgrade Now</button>
      <button class="btn-o" id="btnDemoTier" style="margin-top: 8px;">Try Pro (Demo)</button>
    </div>
  </div>
</div>

<script src="app.js"></script>
</body>
</html>
